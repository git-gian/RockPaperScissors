<!DOCTYPE html>

<head>
    <link rel="stylesheet" href="styles.css">
</head>
<html>

<body style="background-color: #92A8D1;">

    <div class='container'>

        <div class='title'>
            <h1>Rock, Paper, Scissors</h1>
        </div>

        <div class='instructions'>
            <h3>How to Play</h3>
            <p>Think of what you're gonna play: rock, paper, or scissors. Whenever you're ready, hit the button and the
                countdown will begin</p>
        </div>

        <div class='button'>
            <img id='buttonimage' src="images/playnow.png" alt="the play button" onclick="clearBoard();setBoard()">
        </div>

        <div class='opponentBox'>
            <img id='rock' src="images/rock.png">
            <img id='paper' src="images/paper.png">
            <img id='scissors' src="images/scissors.png">
            <h1 id='countdown'></h1>
        </div>

        <div class='playerBox'>
            <img id='playerRock' src="images/rock.png" onclick="setPlayerOption(this.id);play()">
            <img id='playerPaper' src="images/paper.png" onclick="setPlayerOption(this.id);play()">
            <img id='playerScissors' src="images/scissors.png" onclick="setPlayerOption(this.id);play()">
        </div>

        <div class='scores'>
            <img id='playagain' src="images/playagain.png" onclick="clearBoard();setBoard()">
            <h1 id='scorePlayer'></h1>
            <h1 id='scoreOpponent'></h1>
        </div>



    </div>
</body>

<script lang="javascript">

    var oppScore = 0;
    var playerScore = 0;
    var opponent; //the opponent's option
    var player; //the player's option

    function play(){

        var timer = 4;
        var countdown = document.getElementById("countdown");

        document.getElementById("playagain").style.display = "none";

        var counter = setInterval(function count(){

            if (timer === 1){

                countdown.innerHTML = "";
                clearInterval(counter);
        
                opponent = getRandomIntInclusive(1,3);

                calculateScore(opponent, player);
                showScore();

                document.getElementById("playagain").style.display = "inline";
            
            }
            else{

                timer = timer-1;
                countdown.innerHTML = "" + (timer) + "";
            }
        }, 1000)
    }

    function calculateScore(opponent, player){

        if (opponent === 1){
            document.getElementById("rock").style.display = "inline";
        }
        else if (opponent === 2){
            document.getElementById("paper").style.display = "inline";
        }
        else if (opponent === 3){
            document.getElementById("scissors").style.display = "inline";
        }

        if (opponent === 3 && player === 1){

            playerScore++;
        }
        else if (opponent === 1 && player === 3){

            oppScore++;
        }
        else if (opponent > player){

            oppScore++;
        }
        else if (player > opponent){

            playerScore++;
        }

        document.getElementById("scorePlayer").innerHTML = "Player: " + playerScore;
        document.getElementById("scoreOpponent").innerHTML = "Opponent: " + oppScore;
    }

    //brings the player options to visible state
    function setBoard(){
        document.getElementById("playerRock").style.display = "inline";
        document.getElementById("playerPaper").style.display = "inline";
        document.getElementById("playerScissors").style.display = "inline";
    }

    //clears the playbox (opponent's option and play button)
    function clearBoard(){
        document.getElementById("buttonimage").style.display = "none";
        document.getElementById("rock").style.display = "none";
        document.getElementById("paper").style.display = "none";
        document.getElementById("scissors").style.display = "none";
    }

    //gives the player a value for comparison later on and hides other options that were not chosen
    function setPlayerOption(playerOptionID){
        
       if (playerOptionID === "playerRock"){

            player = 1; //set player option to 1 (rock)

            document.getElementById("playerPaper").style.display = "none";
            document.getElementById("playerScissors").style.display = "none";
       }
       else if (playerOptionID === "playerPaper"){

            player = 2; //set player option to 2 (paper)

            document.getElementById("playerRock").style.display = "none";
            document.getElementById("playerScissors").style.display = "none";
       }
       else if (playerOptionID === "playerScissors"){

            player = 3; //set player option to 3 (scissors)

            document.getElementById("playerRock").style.display = "none";
            document.getElementById("playerPaper").style.display = "none";
        }
    }

    function showScore(){

        document.getElementById("scorePlayer").style.display = "inline";
        document.getElementById("scoreOpponent").style.display = "inline";
    }

    function getRandomIntInclusive(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive 
    }

</script>

</html>